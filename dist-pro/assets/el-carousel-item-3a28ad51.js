import{aZ as te,ba as Te,ei as Be,ak as le,cr as Le,r as m,b as A,a as e,bc as Ae,aQ as R,cl as Pe,A as oe,bM as Ve,aX as $e,bT as Oe,cS as Re,bb as ze,d as q,a$ as ne,o as H,c as P,g as F,q as se,w as K,B as z,V as N,aP as j,i as D,b0 as re,cB as je,a2 as W,Y as ie,a3 as X,cC as De,aH as ue,au as ce,F as We,k as Xe,t as Ye,b1 as ve,bw as qe,f as Fe,bj as Ke,bx as Qe,b2 as Ue,b6 as Ze,__tla as Ge}from"./index-8d332a1f.js";import{t as de,__tla as Je}from"./el-image-viewer-4a784372.js";let he,pe,ea=Promise.all([(()=>{try{return Ge}catch{}})(),(()=>{try{return Je}catch{}})()]).then(async()=>{const fe=te({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),me={change:(o,T)=>[o,T].every(Te)},Q=Symbol("carouselContextKey"),ge=(o,T,i)=>{const{children:r,addChild:B,removeChild:g}=Be(le(),"ElCarouselItem"),S=Le(),n=m(-1),d=m(null),b=m(!1),h=m(),w=m(0),y=m(!0),_=A(()=>o.arrow!=="never"&&!e(u)),I=A(()=>r.value.some(a=>a.props.label.toString().length>0)),M=A(()=>o.type==="card"),u=A(()=>o.direction==="vertical"),f=A(()=>o.height!=="auto"?{height:o.height}:{height:`${w.value}px`,overflow:"hidden"}),V=de(a=>{C(a)},300,{trailing:!0}),$=de(a=>{(function(t){o.trigger==="hover"&&t!==n.value&&(n.value=t)})(a)},300);function x(){d.value&&(clearInterval(d.value),d.value=null)}function E(){o.interval<=0||!o.autoplay||d.value||(d.value=setInterval(()=>L(),o.interval))}const L=()=>{n.value<r.value.length-1?n.value=n.value+1:o.loop&&(n.value=0)};function C(a){if(Ae(a)){const c=r.value.filter(k=>k.props.name===a);c.length>0&&(a=r.value.indexOf(c[0]))}if(a=Number(a),Number.isNaN(a)||a!==Math.floor(a))return;const t=r.value.length,s=n.value;n.value=a<0?o.loop?t-1:0:a>=t?o.loop?0:t-1:a,s===n.value&&v(s),l()}function v(a){r.value.forEach((t,s)=>{t.translateItem(s,n.value,a)})}function l(){x(),o.pauseOnHover||E()}R(()=>n.value,(a,t)=>{v(t),y.value&&(a%=2,t%=2),t>-1&&T("change",a,t)}),R(()=>o.autoplay,a=>{a?E():x()}),R(()=>o.loop,()=>{C(n.value)}),R(()=>o.interval,()=>{l()});const p=Pe();return oe(()=>{R(()=>r.value,()=>{r.value.length>0&&C(o.initialIndex)},{immediate:!0}),p.value=Ve(h.value,()=>{v()}),E()}),$e(()=>{x(),h.value&&p.value&&p.value.stop()}),Oe(Q,{root:h,isCardType:M,isVertical:u,items:r,loop:o.loop,addItem:B,removeItem:g,setActiveItem:C,setContainerHeight:function(a){o.height==="auto"&&(w.value=a)}}),{root:h,activeIndex:n,arrowDisplay:_,hasLabel:I,hover:b,isCardType:M,items:r,isVertical:u,containerStyle:f,isItemsTwoLength:y,handleButtonEnter:function(a){e(u)||r.value.forEach((t,s)=>{a===function(c,k){var Y,Z,G,J;const O=e(r),ee=O.length;if(ee===0||!c.states.inStage)return!1;const Se=k+1,Me=k-1,ae=ee-1,xe=O[ae].states.active,Ee=O[0].states.active,He=(Z=(Y=O[Se])==null?void 0:Y.states)==null?void 0:Z.active,Ne=(J=(G=O[Me])==null?void 0:G.states)==null?void 0:J.active;return k===ae&&Ee||He?"left":!!(k===0&&xe||Ne)&&"right"}(t,s)&&(t.states.hover=!0)})},handleButtonLeave:function(){e(u)||r.value.forEach(a=>{a.states.hover=!1})},handleIndicatorClick:function(a){n.value=a},handleMouseEnter:function(){b.value=!0,o.pauseOnHover&&x()},handleMouseLeave:function(){b.value=!1,E()},setActiveItem:C,prev:function(){C(n.value-1)},next:function(){C(n.value+1)},PlaceholderItem:function(){var a;const t=(a=S.default)==null?void 0:a.call(S);if(!t)return null;const s=Re(t).filter(c=>ze(c)&&c.type.name==="ElCarouselItem");return(s==null?void 0:s.length)===2&&o.loop&&!M.value?(y.value=!0,s):(y.value=!1,null)},isTwoLengthShow:a=>!y.value||(n.value<=1?a<=1:a>1),throttledArrowClick:V,throttledIndicatorHover:$}},ye=["onMouseenter","onClick"],be={key:0},Ie=q({name:"ElCarousel"});var Ce=ve(q({...Ie,props:fe,emits:me,setup(o,{expose:T,emit:i}){const r=o,{root:B,activeIndex:g,arrowDisplay:S,hasLabel:n,hover:d,isCardType:b,items:h,isVertical:w,containerStyle:y,handleButtonEnter:_,handleButtonLeave:I,handleIndicatorClick:M,handleMouseEnter:u,handleMouseLeave:f,setActiveItem:V,prev:$,next:x,PlaceholderItem:E,isTwoLengthShow:L,throttledArrowClick:C,throttledIndicatorHover:v}=ge(r,i),l=ne("carousel"),p=A(()=>{const t=[l.b(),l.m(r.direction)];return e(b)&&t.push(l.m("card")),t}),a=A(()=>{const t=[l.e("indicators"),l.em("indicators",r.direction)];return e(n)&&t.push(l.em("indicators","labels")),r.indicatorPosition==="outside"&&t.push(l.em("indicators","outside")),e(w)&&t.push(l.em("indicators","right")),t});return T({setActiveItem:V,prev:$,next:x}),(t,s)=>(H(),P("div",{ref_key:"root",ref:B,class:N(e(p)),onMouseenter:s[6]||(s[6]=j((...c)=>e(u)&&e(u)(...c),["stop"])),onMouseleave:s[7]||(s[7]=j((...c)=>e(f)&&e(f)(...c),["stop"]))},[F("div",{class:N(e(l).e("container")),style:ce(e(y))},[e(S)?(H(),se(ie,{key:0,name:"carousel-arrow-left",persisted:""},{default:K(()=>[z(F("button",{type:"button",class:N([e(l).e("arrow"),e(l).em("arrow","left")]),onMouseenter:s[0]||(s[0]=c=>e(_)("left")),onMouseleave:s[1]||(s[1]=(...c)=>e(I)&&e(I)(...c)),onClick:s[2]||(s[2]=j(c=>e(C)(e(g)-1),["stop"]))},[D(e(re),null,{default:K(()=>[D(e(je))]),_:1})],34),[[W,(t.arrow==="always"||e(d))&&(r.loop||e(g)>0)]])]),_:1})):X("v-if",!0),e(S)?(H(),se(ie,{key:1,name:"carousel-arrow-right",persisted:""},{default:K(()=>[z(F("button",{type:"button",class:N([e(l).e("arrow"),e(l).em("arrow","right")]),onMouseenter:s[3]||(s[3]=c=>e(_)("right")),onMouseleave:s[4]||(s[4]=(...c)=>e(I)&&e(I)(...c)),onClick:s[5]||(s[5]=j(c=>e(C)(e(g)+1),["stop"]))},[D(e(re),null,{default:K(()=>[D(e(De))]),_:1})],34),[[W,(t.arrow==="always"||e(d))&&(r.loop||e(g)<e(h).length-1)]])]),_:1})):X("v-if",!0),D(e(E)),ue(t.$slots,"default")],6),t.indicatorPosition!=="none"?(H(),P("ul",{key:0,class:N(e(a))},[(H(!0),P(We,null,Xe(e(h),(c,k)=>z((H(),P("li",{key:k,class:N([e(l).e("indicator"),e(l).em("indicator",t.direction),e(l).is("active",k===e(g))]),onMouseenter:Y=>e(v)(k),onClick:j(Y=>e(M)(k),["stop"])},[F("button",{class:N(e(l).e("button"))},[e(n)?(H(),P("span",be,Ye(c.props.label),1)):X("v-if",!0)],2)],42,ye)),[[W,e(L)(k)]])),128))],2)):X("v-if",!0)],34))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const ke=te({name:{type:String,default:""},label:{type:[String,Number],default:""}}),we=(o,T)=>{const i=qe(Q),r=le(),B=.83,g=m(),S=m(!1),n=m(0),d=m(1),b=m(!1),h=m(!1),w=m(!1),y=m(!1),{isCardType:_,isVertical:I}=i,M=(u,f,V)=>{var $;const x=e(_),E=($=i.items.value.length)!=null?$:Number.NaN,L=u===f;x||Qe(V)||(y.value=L||u===V),!L&&E>2&&i.loop&&(u=function(v,l,p){const a=p-1,t=p/2;return l===0&&v===a?-1:l===a&&v===0?p:v<l-1&&l-v>=t?p+1:v>l+1&&v-l>=t?-2:v}(u,f,E));const C=e(I);b.value=L,x?(w.value=Math.round(Math.abs(u-f))<=1,n.value=function(v,l){var p,a;const t=e(I)?((p=i.root.value)==null?void 0:p.offsetHeight)||0:((a=i.root.value)==null?void 0:a.offsetWidth)||0;return w.value?t*(1.17*(v-l)+1)/4:v<l?-1.83*t/4:3.83*t/4}(u,f),d.value=e(b)?1:B):n.value=function(v,l,p){const a=i.root.value;return a?((p?a.offsetHeight:a.offsetWidth)||0)*(v-l):0}(u,f,C),h.value=!0,L&&g.value&&i.setContainerHeight(g.value.offsetHeight)};return oe(()=>{i.addItem({props:o,states:Fe({hover:S,translate:n,scale:d,active:b,ready:h,inStage:w,animating:y}),uid:r.uid,translateItem:M})}),Ke(()=>{i.removeItem(r.uid)}),{carouselItemRef:g,active:b,animating:y,hover:S,inStage:w,isVertical:I,translate:n,isCardType:_,scale:d,ready:h,handleItemClick:function(){if(i&&e(_)){const u=i.items.value.findIndex(({uid:f})=>f===r.uid);i.setActiveItem(u)}}}},_e=q({name:"ElCarouselItem"});var U=ve(q({..._e,props:ke,setup(o){const T=o,i=ne("carousel"),{carouselItemRef:r,active:B,animating:g,hover:S,inStage:n,isVertical:d,translate:b,isCardType:h,scale:w,ready:y,handleItemClick:_}=we(T),I=A(()=>({transform:[`${"translate"+(e(d)?"Y":"X")}(${e(b)}px)`,`scale(${e(w)})`].join(" ")}));return(M,u)=>z((H(),P("div",{ref_key:"carouselItemRef",ref:r,class:N([e(i).e("item"),e(i).is("active",e(B)),e(i).is("in-stage",e(n)),e(i).is("hover",e(S)),e(i).is("animating",e(g)),{[e(i).em("item","card")]:e(h),[e(i).em("item","card-vertical")]:e(h)&&e(d)}]),style:ce(e(I)),onClick:u[0]||(u[0]=(...f)=>e(_)&&e(_)(...f))},[e(h)?z((H(),P("div",{key:0,class:N(e(i).e("mask"))},null,2)),[[W,!e(B)]]):X("v-if",!0),ue(M.$slots,"default")],6)),[[W,e(y)]])}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);pe=Ue(Ce,{CarouselItem:U}),he=Ze(U)});export{he as E,ea as __tla,pe as a};
